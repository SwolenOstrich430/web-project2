<div class="container-fluid">
    {{!-- Houses Page navbar --}}
    <header class="houses-site-header">
        <div class="container-fluid p-0">
            <nav class="navbar navbar-expand-lg navbar-light" aria-label="Main navigation">
                {{!-- Logo --}}
                <a class="navbar-brand ml-2" href="/">
                    <img id="logo" src="../img/logo.png" width="180" alt="Pillow Logo">
                </a>
                {{!-- Toggle button --}}
                <button class="navbar-toggler mb-2 border-0" type="button" data-toggle="collapse"
                    data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <i class="fas fa-bars fa-md"></i>
                </button>
                <div class="collapse navbar-collapse mb-3 mt-n3" id="navbarNav">
                    <ul class="navbar-nav ml-auto text-right">
                        {{!-- Login button --}}
                        <li class="nav-item mr-3"><a class="nav-link text-dark font-weight-bolder" href="#">Login</a>
                        </li>
                        {{!-- Sign Up button --}}
                        <li class="nav-item"><a class="btn btn-primary" href="#">Sign up</a></li>
                    </ul>
                </div>
            </nav>
            <hr class="mt-n2 mt-lg-n4">
            {{!-- Nav Search options --}}
            <ul class="nav nav-pills mt-n2">
                <li class="mr-2">
                    {{!-- Search address input --}}
                    <form class="small-search-input w-100">
                        <div class="form-group">
                            <input type="search" value="{{housesList.cityState}}"
                                class="input-address form-control text-truncate pl-2"
                                placeholder="Address, city or ZIP">
                        </div>
                    </form>
                </li>
                {{!-- Price Range Dropdown menu --}}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle border border-primary rounded py-1 mr-1" data-toggle="dropdown"
                        href="#" role="button" aria-haspopup="true" aria-expanded="false">Price</a>
                    <div class="dropdown-menu p-2" style="width: 340px">
                        <label>Price Range</label>
                        <form class="w-100 needs-validation" novalidate>
                            <div class="form-row">
                                {{!-- Minimum range price --}}
                                <div class="col-6">
                                    <input type="number" class="form-control minPrice" placeholder="Min" required>
                                    <div class="invalid-feedback">
                                        Please provide a valid value
                                    </div>
                                </div>
                                {{!-- Maximum range price --}}
                                <div class="col-6">
                                    <input type="number" class="form-control maxPrice" placeholder="Max" required>
                                    <div class="invalid-feedback">
                                        Please provide a valid value
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-sm ml-auto d-block mt-2 range-button">Done</button>
                        </form>
                    </div>
                </li>
                {{!-- Save home to favorites --}}
                <li class="ml-auto">
                    <button class="btn btn-primary btn-sm ml-auto d-block" id="get-favorites">Saved Favorite
                        Properties</button>
                </li>
            </ul>
        </div>
    </header>
    {{!-- Main body page --}}
    <div class="container-fluid border-top">
        <div class="row">
            {{!-- Google Maps --}}
            <div id="google-maps-container" class="col-md-6 d-none d-lg-block px-0 pt-2" data-target="#nav-profile">
                <div id="map"></div>
            </div>

            <div class="col-md-12 col-lg-6" id="houses-search-result">
                <div class="d-flex mt-2">
                    <p>Search results</p>
                    <div class="dropdown ml-auto mt-1">
                        {{!-- Sorting button --}}
                        <button class="btn btn-sm btn-primary dropdown-toggle" type="button" id="dropdownSort"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Sort
                        </button>
                        {{!-- Sorting options --}}
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownSort">
                            <button class="dropdown-item" data-sort="desc" id="sortHighToLow" type="button">Price(High to Low)</button>
                            <button class="dropdown-item" data-sort="asc" id="sortLowToHigh" type="button">Price(Low to High)</button>
                        </div>
                    </div>
                </div>
                {{!-- List of Houses --}}
                <div class="row row-cols-1 row-cols-md-2" id="houses-cards">
                    {{#each housesList.housesData}}
                    <div class="col mb-4 d-block">
                        <div class="card home-preview-card shadow-sm h-100" data-lat="{{latLng.lat}}"
                            data-lng="{{latLng.lng}}" data-price="{{price}}" data-bedrooms="{{bedrooms}}"
                            data-bathrooms="{{bathrooms}}" data-sqft="{{sqft}}" data-imgUrl="{{imgUrl}}">
                            {{!-- Save home to favorite list --}}
                            <button type="button" class="btn btn-link position-absolute save-home-button" id={{id}}
                                data-toggle="button" aria-pressed="false">
                                <i class="far fa-heart text-white"></i>
                            </button>
                            <img id="pic-url-{{id}}" src={{imgUrl}} class="card-img-top" alt="...">
                            {{!-- Property preview details card --}}
                            <div class="card-body">
                                <ul class="list-unstyled list-inline">
                                    {{!-- House Price --}}
                                    <li class="list-inline-item">
                                        <h5 class="card-title"><span id="price-{{id}}">{{price}}</span></h5>
                                    </li>
                                    {{!-- Number of Bedrooms --}}
                                    <li class="list-inline-item"><small class="text-muted"><span
                                                id="bedrooms-{{id}}">{{bedrooms}}</span> ba</small></li>
                                    {{!-- Numbers of Bathrooms --}}
                                    <li class="list-inline-item border-right border-left pr-2 pl-2"><small
                                            class="text-muted"><span id="bathrooms-{{id}}">{{bathrooms}}</span>
                                            bds</small></li>
                                    {{!-- House square footage --}}
                                    <li class="list-inline-item"><small class="text-muted"><span
                                                id="sqft-{{id}}">{{sqft}}</span></small></li>
                                </ul>
                                {{!-- House Address --}}
                                <p class="card-text" id="house-address-{{id}}">{{address}}
                                </p>
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/index.js"></script>
<script src="/js/houses.js"></script>
<script src="/js/sort.js"></script>
{{!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdpacUXCdfCmc4qgSzpk14NE3nHOcMsuY&callback=initMap" async defer></script> --}}
{{!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdpacUXCdfCmc4qgSzpk14NE3nHOcMsuY&callback=initMap" async defer></script> --}}
